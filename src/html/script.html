<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
	integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
<script src="
	https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js
	"></script>
<script src="js/main.min.js" defer></script>

<script>
	$('#header-burger').click(function () {
		$('#header-top-menu-mobil').toggleClass('open')
		$('body').toggleClass('overflow-hidden')
	})

	$('#heading4').click(function () {
		$("#header-burger").click()
	})


	$(document).ready(function () {

		let scrollPrev = 0
		$(window).scroll(function () {

			let topMenuMob = $('#header-top-menu-mobil'),
				accordionHeaderMenu = $('#accordionHeader'),
				scroll = $(window).scrollTop()

			if (scroll > 100) {
				topMenuMob.addClass('hidden')
				accordionHeaderMenu.removeClass('d-none')
			}
			else {
				topMenuMob.removeClass('hidden')
				accordionHeaderMenu.addClass('d-none')
			}

			if (scroll > 100 && scroll > scrollPrev) {
				accordionHeaderMenu.addClass('partial')
			} else {
				accordionHeaderMenu.removeClass('partial')
			}

			scrollPrev = scroll

		})


		let prevScrollpos = $(window).scrollTop()

		window.addEventListener('scroll', function () {
			const currentScrollPos = window.pageYOffset
			const main = document.querySelector('.main-wrapper')

			if (currentScrollPos === 0) {
				// Верхняя часть страницы
				main.classList.remove('main-scrolled', 'main-scrolled-up')
			} else if (prevScrollpos < currentScrollPos) {
				// Прокрутка вниз
				main.classList.add('main-scrolled')
			} else {
				// Прокрутка вверх
				main.classList.remove('main-scrolled')
			}

			if (currentScrollPos === 0) {
				main.classList.remove('main-scrolled-up')
			} else if (currentScrollPos < prevScrollpos) {
				// Прокрутка вверх
				main.classList.add('main-scrolled-up')
			}

			prevScrollpos = currentScrollPos
		})
	})

	$('.main-scrolled').parent().addClass('test')

	new Splide('.buying-row', {
		perPage: 7,
		gap: 20,
		arrows: false,
		breakpoints: {
			1440: {
				perPage: 6,
			},
			1200: {
				perPage: 4,
			},
			991: {
				perPage: 3,
			},
			768: {
				perPage: 1,
				focus: 'center',
				autoWidth: true,
			},
		},
	}).mount()

	new Splide('.information-about-services', {
		perPage: 3,
		gap: 20,
		arrows: false,
		breakpoints: {
			1200: {
				perPage: 2,
			},
			991: {
				perPage: 1,
				focus: 'center',
				autoWidth: true,
			},
			576: {
				gap: 15,
			},
		},
	}).mount()

	new Splide('.review-group', {
		perPage: 4,
		type: 'loop',
		gap: 20,
		pagination: false,
		breakpoints: {
			1500: {
				perPage: 4,
				arrows: false,
				pagination: true,
			},
			1200: {
				perPage: 3,
			},
			991: {
				perPage: 1,
				autoWidth: true,
			},
			576: {
				gap: 15,
			},
		},
	}).mount();
</script>